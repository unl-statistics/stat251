<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Firstname Lastname">
<meta name="dcterms.date" content="2024-03-07">

<title>251 Midterm Exam – Stat 251 - Data Wrangling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Stat 251 - Data Wrangling</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://srvanderplas.github.io/stat-computing-r-python/"> 
<span class="menu-text">Textbook</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../syllabus.pdf"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-input---polling-places" id="toc-data-input---polling-places" class="nav-link active" data-scroll-target="#data-input---polling-places">Data Input - Polling Places</a>
  <ul class="collapse">
  <li><a href="#data-file-inspection" id="toc-data-file-inspection" class="nav-link" data-scroll-target="#data-file-inspection">Data File Inspection</a></li>
  <li><a href="#reading-the-data" id="toc-reading-the-data" class="nav-link" data-scroll-target="#reading-the-data">Reading the Data</a></li>
  <li><a href="#summarize-the-data" id="toc-summarize-the-data" class="nav-link" data-scroll-target="#summarize-the-data">Summarize the Data</a></li>
  </ul></li>
  <li><a href="#data-cleaning---polling-places-over-time" id="toc-data-cleaning---polling-places-over-time" class="nav-link" data-scroll-target="#data-cleaning---polling-places-over-time">Data Cleaning - Polling Places over Time</a>
  <ul class="collapse">
  <li><a href="#steps" id="toc-steps" class="nav-link" data-scroll-target="#steps">Steps</a></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code">Code</a></li>
  <li><a href="#chart-description" id="toc-chart-description" class="nav-link" data-scroll-target="#chart-description">Chart Description</a></li>
  <li><a href="#chart" id="toc-chart" class="nav-link" data-scroll-target="#chart">Chart</a></li>
  <li><a href="#modifications" id="toc-modifications" class="nav-link" data-scroll-target="#modifications">Modifications</a></li>
  </ul></li>
  <li><a href="#data-processing" id="toc-data-processing" class="nav-link" data-scroll-target="#data-processing">Data Processing</a>
  <ul class="collapse">
  <li><a href="#function-steps" id="toc-function-steps" class="nav-link" data-scroll-target="#function-steps">Function Steps</a></li>
  <li><a href="#function-code---single-address" id="toc-function-code---single-address" class="nav-link" data-scroll-target="#function-code---single-address">Function Code - Single Address</a></li>
  <li><a href="#function-code---vector" id="toc-function-code---vector" class="nav-link" data-scroll-target="#function-code---vector">Function Code - Vector</a></li>
  <li><a href="#function-evaluation" id="toc-function-evaluation" class="nav-link" data-scroll-target="#function-evaluation">Function Evaluation</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">251 Midterm Exam</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Exam</div>
    <div class="quarto-category">Week07</div>
    <div class="quarto-category">Week07</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Firstname Lastname </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 7, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>In this exam, you’ll be using data collected about US polling places. The <a href="https://publicintegrity.org/">Center for Public Integrity</a> assembled this data using open records requests and contact with state or county election officials. Full documentation is available on the <a href="https://github.com/PublicI/us-polling-places">github repository for the data</a> - each state’s details can be found in a README file for that state; there is also a machine-readable <code>manifest.yaml</code> file for each state provided.</p>
<p>We will start out by using data assembled by the TidyTuesday project, but will eventually get to the raw data as well.</p>
<p>The raw CSV data is available at https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-01-16/polling_places.csv</p>
<div class="cell" data-hash="index_cache/html/r-setup_04cee27a8083e2e1e2046a8c8c45d453">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load any R packages you use in this chunk</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="index_cache/html/py-setup_1882c3fe3d565517702cd3b0673dce2d">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load any python packages you use in this chunk</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="data-input---polling-places" class="level1">
<h1>Data Input - Polling Places</h1>
<p>(30 pts)</p>
<section id="data-file-inspection" class="level2">
<h2 class="anchored" data-anchor-id="data-file-inspection">Data File Inspection</h2>
<p>Here are the first six lines of the TidyTuesday CSV file:</p>
<pre><code>election_date,state,county_name,jurisdiction,jurisdiction_type,precinct_id,precinct_name,polling_place_id,location_type,name,address,notes,source,source_date,source_notes
2020-11-03,AL,AUTAUGA,AUTAUGA,county,NA,AUTAUGAVILLE VOL FIRE DEPT,NA,election_day,AUTAUGAVILLE VOL FIRE DEPT,"2610 HIGHWAY 14 W, AUTAUGAVILLE, AL 36003",NA,ORR,2020-10-21,NA
2020-11-03,AL,AUTAUGA,AUTAUGA,county,NA,BILLINGSLEY COMMUNITY CENTER,NA,election_day,BILLINGSLEY COMMUNITY CENTER,"2159 COUNTY RD 37, BILLINGSLEY, AL 36006",NA,ORR,2020-10-21,NA
2020-11-03,AL,AUTAUGA,AUTAUGA,county,NA,BOONE'S CHAPEL,NA,election_day,BOONE'S CHAPEL,"2301 COUNTY RD 66, PRATTVILLE, AL 36067",NA,ORR,2020-10-21,NA
2020-11-03,AL,AUTAUGA,AUTAUGA,county,NA,BOOTH VOL FIRE DEPT,NA,election_day,BOOTH VOL FIRE DEPT,"1701 COUNTY ROAD 10, BOOTH, AL 36008",NA,ORR,2020-10-21,NA
2020-11-03,AL,AUTAUGA,AUTAUGA,county,NA,CAMELLIA BAPTIST CH,NA,election_day,CAMELLIA BAPTIST CH,"201 WOODVALE ROAD, PRATTVILLE, AL 36067",NA,ORR,2020-10-21,NA</code></pre>
<ol type="1">
<li><p>What is the file delimiter? (1 pt)<br>
<delete this="" and="" replace="" with="" your="" answer=""></delete></p></li>
<li><p>What is the header? (1 pt)<br>
<delete this="" and="" replace="" with="" your="" answer=""></delete></p></li>
<li><p>How many columns will the data have when it is read in using R or Python? (1 pt)<br>
<delete this="" and="" replace="" with="" your="" answer=""></delete></p></li>
<li><p>How is the data stored differently in the address field compared to the name field (1 pt), and why is this different handling necessary (1 pt)?<br>
<delete this="" and="" replace="" with="" your="" answer=""></delete></p></li>
</ol>
</section>
<section id="reading-the-data" class="level2">
<h2 class="anchored" data-anchor-id="reading-the-data">Reading the Data</h2>
<p>Read in the data in R (5 pts) and in python (5 pts).</p>
<p>Make sure to load any packages which are necessary to run your code in the setup chunks at the beginning of the document.</p>
</section>
<section id="summarize-the-data" class="level2">
<h2 class="anchored" data-anchor-id="summarize-the-data">Summarize the Data</h2>
<p>Using any method you choose from either language, fill in the following table.</p>
<p>Language used: <fill in=""></fill></p>
<p>Make sure your terms match the language you’re using and the code you provided above. If you use code to get these values (which is probably a good idea), please use the code chunks provided here:</p>
<p>When computing the number of unique values, exclude missing values.</p>
<table class="caption-top table">
<caption>Summary of Polling Data</caption>
<colgroup>
<col style="width: 17%">
<col style="width: 13%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Data Type (5 pts)</th>
<th># missing values (5 pts)</th>
<th># unique values (5 pts)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>election_date</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>state</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>county_name</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>jurisdiction</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>jurisdiction_type</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>precinct_id</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>precinct_name</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>polling_place_id</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>location_type</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>name</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>address</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>notes</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>source</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>source_date</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>source_notes</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="data-cleaning---polling-places-over-time" class="level1">
<h1>Data Cleaning - Polling Places over Time</h1>
<p>(50 pts)</p>
<p>For this part of the exam, you’ll use your student ID to get the state you’ll be working with.</p>
<div class="cell" data-hash="index_cache/html/student-id-state-assign_04f9a10409c832725022c34f66bae0ad">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>my_nuid <span class="ot">&lt;-</span> <span class="dv">96582245</span> <span class="co"># Change this value to your NUID</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>state_ids <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"state-ids.RDS"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>my_state <span class="ot">&lt;-</span> state_ids<span class="sc">$</span>state[my_nuid<span class="sc">%%</span><span class="dv">37</span>]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(my_state)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "VT"</code></pre>
</div>
</div>
<p>Your end goal is to get a plot of the number of available polling places in each election, with separate lines for each jurisdiction (e.g.&nbsp;county) within your state.</p>
<section id="steps" class="level2">
<h2 class="anchored" data-anchor-id="steps">Steps</h2>
<p>(10 pts)</p>
<p>Write out the steps (in plain language) required to get from the polling place data provided <a href="https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-01-16/polling_places.csv">here</a> to the data you need to create your plot. Make sure to remove polling places which do not make sense - e.g.&nbsp;those with an address consisting of just the state name, or those named “DO NOT USE”.</p>
<p>For each step, identify the data manipulation verb you will use, and any variables you will pass in as arguments. Fill in the following table when you are finished. Add new rows by moving to a new line, and separate each cell in the table with <code>|</code> (spaces matter). <code>|</code> is on the key above the enter key and shares a key with <code>\</code> (backslash). You will need to hold shift down.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Step #</th>
<th>Verb</th>
<th>Arguments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>…</td>
<td>… <!-- replace this line --></td>
</tr>
</tbody>
</table>
</section>
<section id="code" class="level2">
<h2 class="anchored" data-anchor-id="code">Code</h2>
<p>(10 pts)</p>
<p>Write code in R or python to execute the steps you outlined above.</p>
</section>
<section id="chart-description" class="level2">
<h2 class="anchored" data-anchor-id="chart-description">Chart Description</h2>
<p>(7 pts)</p>
<p>Use the grammar of graphics to identify the components of the chart here, which provides the data for Wisconsin. <img src="wisconsin-example.jpg" class="img-fluid" style="width:50.0%" alt="Wisconsin counties where the number of polling places changed, 2012-2020"></p>
<ul>
<li><p>geom:</p></li>
<li><p>aesthetics: (list at least 3)</p>
<ul>
<li></li>
<li></li>
<li></li>
</ul></li>
<li><p>coordinate system:</p></li>
<li><p>y axis scale:</p></li>
<li><p>x axis scale:</p></li>
</ul>
</section>
<section id="chart" class="level2">
<h2 class="anchored" data-anchor-id="chart">Chart</h2>
<p>(20 pts)</p>
<p>Write code in R or python to create a chart like that shown at the beginning of this example (5 pts). Make sure your axes are labeled (5 pts) and your chart has a title (5 pts). Include your plot in this document and make sure you have a figure caption that describes what someone should notice in the chart (5 pts) You may do this either by modifying the chunk options or by using <code>include=F</code> and manually including the picture with a caption.</p>
</section>
<section id="modifications" class="level2">
<h2 class="anchored" data-anchor-id="modifications">Modifications</h2>
<p>Evaluate the chart you created for comprehensibility and accessibility. (1 pt)</p>
<p>What modifications might you add to this chart to make it clearer and more understandable? (2 pts)</p>
</section>
</section>
<section id="data-processing" class="level1">
<h1>Data Processing</h1>
<p>(20 pts)</p>
<p>You want to mail a letter to every polling place in the state you were assigned. In order to do this, you need to separate out the pieces of the address: building number, street, city, state, and zip code. Note that not all addresses will have all of these components - in Alaska, for example, there are often not street numbers or even names.</p>
<section id="function-steps" class="level2">
<h2 class="anchored" data-anchor-id="function-steps">Function Steps</h2>
<p>(5 pts)</p>
<p>Use the following addresses to think through the steps you will need to accomplish this task.</p>
<pre><code>Tatitlek, AK 99677
First Street, Cordova, AK 99574
105 ICE ST, MENASHA, WI 54952-3223
1025 W 5TH AVE, OSHKOSH, WI 54902
1702 COUNTY ROAD 40 W, PRATTVILLE, AL 36067
5281 HIGHWAY 29, CORINTH VFD (PEROTE STATION), BANKS, AL 36005
713 W. MOUNTAIN AVENUE, JACKSONVILLE, AL 36265
COMMUNITY CENTER, 1168 HWY 84, SILAS, AL 36919</code></pre>
<p>Write out the steps your function will need to accomplish in plain language.</p>
</section>
<section id="function-code---single-address" class="level2">
<h2 class="anchored" data-anchor-id="function-code---single-address">Function Code - Single Address</h2>
<p>(5 pts)</p>
<p>Write a function, <code>address_parser</code>, which can handle a single address and return a data structure containing each piece of the address, with NAs for pieces which are not matched.</p>
<p>(change this chunk to python if you’d prefer to use python over R for this task)</p>
<p>This chunk will test your function on the addresses provided as examples. (change this chunk to python if you used python above)</p>
<div class="cell" data-hash="index_cache/html/single-address-parser-test_b93e7e63c0de75095e12df79b3c0f6fd">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">address_parser</span>(<span class="st">"Tatitlek, AK 99677"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_parser("Tatitlek, AK 99677"): could not find function "address_parser"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">address_parser</span>(<span class="st">"First Street, Cordova, AK 99574"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_parser("First Street, Cordova, AK 99574"): could not find function "address_parser"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">address_parser</span>(<span class="st">"105 ICE ST, MENASHA, WI 54952-3223"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_parser("105 ICE ST, MENASHA, WI 54952-3223"): could not find function "address_parser"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">address_parser</span>(<span class="st">"1025 W 5TH AVE, OSHKOSH, WI 54902"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_parser("1025 W 5TH AVE, OSHKOSH, WI 54902"): could not find function "address_parser"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">address_parser</span>(<span class="st">"1702 COUNTY ROAD 40 W, PRATTVILLE, AL 36067"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_parser("1702 COUNTY ROAD 40 W, PRATTVILLE, AL 36067"): could not find function "address_parser"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">address_parser</span>(<span class="st">"5281 HIGHWAY 29, CORINTH VFD (PEROTE STATION), BANKS, AL 36005"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_parser("5281 HIGHWAY 29, CORINTH VFD (PEROTE STATION), BANKS, AL 36005"): could not find function "address_parser"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">address_parser</span>(<span class="st">"713 W. MOUNTAIN AVENUE, JACKSONVILLE, AL 36265"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_parser("713 W. MOUNTAIN AVENUE, JACKSONVILLE, AL 36265"): could not find function "address_parser"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">address_parser</span>(<span class="st">"COMMUNITY CENTER, 1168 HWY 84, SILAS, AL 36919"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_parser("COMMUNITY CENTER, 1168 HWY 84, SILAS, AL 36919"): could not find function "address_parser"</code></pre>
</div>
</div>
</section>
<section id="function-code---vector" class="level2">
<h2 class="anchored" data-anchor-id="function-code---vector">Function Code - Vector</h2>
<p>(5 pts)</p>
<p>Write a function, <code>address_vec</code>, which can parse a vector of addresses and return a data frame with columns corresponding to each piece of the address.</p>
<p>(change this chunk to python if you’d prefer to use python over R for this task)</p>
<p>This chunk will test your function on the addresses provided as examples. Delete whichever chunk corresponds to the language you didn’t use.</p>
<div class="cell" data-hash="index_cache/html/r-vector-address-parser-test_985eecc389784ade80834f4f079a4241">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>test_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Tatitlek, AK 99677"</span>, <span class="st">"First Street, Cordova, AK 99574"</span>, <span class="st">"105 ICE ST, MENASHA, WI 54952-3223"</span>, <span class="st">"1025 W 5TH AVE, OSHKOSH, WI 54902"</span>, <span class="st">"1702 COUNTY ROAD 40 W, PRATTVILLE, AL 36067"</span>, <span class="st">"5281 HIGHWAY 29, CORINTH VFD (PEROTE STATION), BANKS, AL 36005"</span>, <span class="st">"713 W. MOUNTAIN AVENUE, JACKSONVILLE, AL 36265"</span>, <span class="st">"COMMUNITY CENTER, 1168 HWY 84, SILAS, AL 36919"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">address_vec</span>(test_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in address_vec(test_vec): could not find function "address_vec"</code></pre>
</div>
</div>
<div class="cell" data-hash="index_cache/html/py-vector-address-parser-test_d5ed6294d8480d56774c0ad24d484e53">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>test_vec <span class="op">=</span> [<span class="st">"Tatitlek, AK 99677"</span>, <span class="st">"First Street, Cordova, AK 99574"</span>, <span class="st">"105 ICE ST, MENASHA, WI 54952-3223"</span>, <span class="st">"1025 W 5TH AVE, OSHKOSH, WI 54902"</span>, <span class="st">"1702 COUNTY ROAD 40 W, PRATTVILLE, AL 36067"</span>, <span class="st">"5281 HIGHWAY 29, CORINTH VFD (PEROTE STATION), BANKS, AL 36005"</span>, <span class="st">"713 W. MOUNTAIN AVENUE, JACKSONVILLE, AL 36265"</span>, <span class="st">"COMMUNITY CENTER, 1168 HWY 84, SILAS, AL 36919"</span>]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>address_vec(test_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NameError: name 'address_vec' is not defined</code></pre>
</div>
</div>
</section>
<section id="function-evaluation" class="level2">
<h2 class="anchored" data-anchor-id="function-evaluation">Function Evaluation</h2>
<p>Use your function to parse a vector of the unique polling place addresses in your state, creating a data table of address components for your letters. (5 pts)</p>
<p>Where did your function have issues, if it did? (5 pts)</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>